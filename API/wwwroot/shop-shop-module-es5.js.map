{"version":3,"sources":["webpack:///src/app/shared/models/shopParams.ts","webpack:///src/app/shop/shop-details/shop-details.component.ts","webpack:///src/app/shop/shop-details/shop-details.component.html","webpack:///src/app/shop/shop-item/shop-item.component.ts","webpack:///src/app/shop/shop-item/shop-item.component.html","webpack:///src/app/shop/shop-routing.module.ts","webpack:///src/app/shop/shop.component.ts","webpack:///src/app/shop/shop.component.html","webpack:///src/app/shop/shop.module.ts","webpack:///src/app/shop/shop.service.ts"],"names":["ShopParams","brandId","typeId","sort","pageNumber","pageSize","search","ShopDetailsComponent","shopService","activatedRoute","breadcrumbService","basketService","quantity","quantityInBasket","set","getProduct","id","snapshot","paramMap","get","subscribe","product","name","basketSource$","pipe","basket","item","items","find","x","error","console","log","itemsToAdd","addItemToBasket","itemsToRemove","removeItemFromBasket","selector","templateUrl","styleUrls","ShopItemComponent","router","routes","path","component","data","breadcrumb","alias","ShopRoutingModule","forChild","declarations","imports","exports","ShopComponent","products","brands","types","totalCount","sortOptions","value","getProductsWithBrandsAndTypes","shopParams","getShopParams","getProducts","getBrands","getTypes","response","pageIndex","count","params","setShopParams","$event","target","searchTerm","nativeElement","onSortSelected","onSearch","onReset","ShopModule","ShopService","http","baseUrl","apiUrl","productCache","Map","Object","values","join","useCache","size","has","getKey","pagination","append","toString","reduce","acc","paginatedResult","keys","length","providedIn"],"mappings":"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","file":"shop-shop-module-es5.js","sourcesContent":["export class ShopParams {\r\n    brandId = 0;\r\n    typeId = 0;\r\n    sort = 'name';\r\n    pageNumber = 1;\r\n    pageSize = 6;\r\n    search = '';\r\n}","import { Component, OnInit } from '@angular/core';\nimport { IProduct } from 'src/app/shared/models/product';\nimport { ShopService } from '../shop.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { BreadcrumbService } from 'xng-breadcrumb';\nimport { BasketService } from 'src/app/basket/basket.service';\nimport { take } from 'rxjs/operators';\nimport { IBasket } from 'src/app/shared/models/basket';\n\n@Component({\n  selector: 'app-shop-details',\n  templateUrl: './shop-details.component.html',\n  styleUrls: ['./shop-details.component.scss']\n})\nexport class ShopDetailsComponent implements OnInit {\n  product: IProduct;\n  quantity = 1;\n  quantityInBasket = 0;\n  constructor(private shopService: ShopService, private activatedRoute: ActivatedRoute,\n    private breadcrumbService: BreadcrumbService, private basketService: BasketService) {\n    this.breadcrumbService.set('@productDetails', 'Product loading...');\n  }\n\n  ngOnInit(): void {\n    this.getProduct();\n  }\n\n  getProduct() {\n    const id = +this.activatedRoute.snapshot.paramMap.get('id');\n    if (id) {\n      this.shopService.getProduct(+this.activatedRoute.snapshot.paramMap.get('id')).subscribe((product: IProduct) => {\n        this.product = product;\n        this.breadcrumbService.set('@productDetails', this.product.name);\n        // easy way to unsubscribe is to pipe and take 1\n        this.basketService.basketSource$.pipe(take(1)).subscribe((basket: IBasket) => {\n          const item = basket?.items.find(x => x.id == id);\n          if (item) {\n            // We are synching the item quantities from the basket and the product\n            // if there is no item means we dont have a basket and quantity stays 1\n            this.quantity = item.quantity;\n            this.quantityInBasket = item.quantity;\n          }\n        })\n      }, error => console.log(error))\n    }\n  }\n\n  incrementQuantity() {\n    this.quantity++;\n  }\n\n  decrementQuantity() {\n    if (this.quantity > 0)\n      this.quantity--;\n  }\n\n  updateBasket() {\n    if (this.product) {\n      if (this.quantity > this.quantityInBasket) {\n        const itemsToAdd = this.quantity - this.quantityInBasket;\n        this.quantityInBasket += itemsToAdd;\n        this.basketService.addItemToBasket(this.product, itemsToAdd);\n      } else {\n        const itemsToRemove = this.quantityInBasket - this.quantity;\n        this.quantityInBasket -= itemsToRemove;\n        this.basketService.removeItemFromBasket(this.product.id, itemsToRemove);\n      }\n    }\n  }\n\n  get buttonText() {\n    return this.quantityInBasket === 0 ? 'Add to basket' : 'Update basket';\n  }\n\n}\n","<div class=\"container\">\n    <div class=\"row\" *ngIf=\"product\">\n        <div class=\"col-6\">\n            <img src=\"{{product.pictureUrl}}\" alt=\"{{product.name}}\" class=\"w-100\" />\n        </div>\n        <div class=\"col-6 mt-5\">\n            <h2>{{ product.name }}</h2>\n            <p>{{ product.price | currency }}</p>\n            <h5 class=\"text-primary mb-3\" *ngIf=\"quantityInBasket > 0\">\n                You have <strong>{{ quantityInBasket }}</strong> of this item in your basket.\n            </h5>\n            <div class=\"d-flex justify-content-start align-items-center\">\n                <i (click)=\"decrementQuantity()\" class=\"fa fa-minus-circle text-warning me-2\" style=\"cursor: pointer; font-size: 2em;\"></i>\n                <span class=\"font-weight-bold me-2\" style=\"font-size: 1.5em;\">{{ quantity }}</span>\n                <i (click)=\"incrementQuantity()\" class=\"fa fa-plus-circle text-warning me-2\" style=\"cursor: pointer; font-size: 2em;\"></i>\n                <button (click)=\"updateBasket()\" [disabled]=\"quantity === quantityInBasket\" class=\"btn btn-outline-secondary ms-4\">{{ buttonText }}</button>\n            </div>\n            <div class=\"row mt-4\">\n                <h3>Description</h3>\n                <p>{{ product.description }}</p>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BasketService } from 'src/app/basket/basket.service';\nimport { IProduct } from 'src/app/shared/models/product';\n\n@Component({\n  selector: 'app-shop-item',\n  templateUrl: './shop-item.component.html',\n  styleUrls: ['./shop-item.component.scss']\n})\nexport class ShopItemComponent implements OnInit {\n  @Input() product: IProduct;\n  constructor(private basketService: BasketService, private router: Router) { }\n\n  ngOnInit(): void {\n  }\n\n  addItemToBasket() {\n    if (this.product)\n      this.basketService.addItemToBasket(this.product, 1);\n  }\n\n}\n","<div class=\"card h-100 shadow-sm\">\n\n    <div class=\"image position-relative\" style=\"cursor: pointer;\">\n        <img src=\"{{ product.pictureUrl }}\" alt=\"{{ product.name }}\" class=\"img-fluid bg-info\">\n        <div class=\"d-flex align-items-center justify-content-center hover-overlay\">\n            <button (click)=\"addItemToBasket()\" class=\"btn btn-primary fa fa-shopping-cart me-2\"></button>\n            <button routerLink=\"/shop/{{product.id}}\" class=\"btn btn-primary\">View</button>\n        </div>\n    </div>\n\n\n    <div class=\"card-body d-flex flex-column\">\n        <a class=\"text-decoration-none\">\n            <h6 class=\"text-uppercase\">{{ product.name }}</h6>\n        </a>\n        <span class=\"mb-2\">{{ product.price | currency }}</span>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ShopComponent } from './shop.component';\nimport { ShopDetailsComponent } from './shop-details/shop-details.component';\n\nconst routes: Routes = [\n  {\n    path: '', component: ShopComponent\n  },\n  {\n    path: ':id', component: ShopDetailsComponent, data:{breadcrumb: { alias: 'productDetails' }}\n  }\n];\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class ShopRoutingModule { }\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { IBrand, IProduct, IType } from '../shared/models/product';\nimport { ShopService } from './shop.service';\nimport { ShopParams } from '../shared/models/shopParams';\n\n@Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.scss']\n})\nexport class ShopComponent implements OnInit {\n  @ViewChild('search') searchTerm?: ElementRef;\n  products: IProduct[] = [];\n  brands: IBrand[] = [];\n  types: IType[] = [];\n  shopParams: ShopParams;\n  totalCount = 0;\n\n  sortOptions = [\n    { name: 'Alphabetical', value: 'name' },\n    { name: 'Price: Low to high', value: 'priceAsc' },\n    { name: 'Price: High to low', value: 'priceDesc' },\n  ];\n\n  constructor(private shopService: ShopService) { }\n\n  ngOnInit(): void {\n    this.getProductsWithBrandsAndTypes();\n    this.shopParams = this.shopService.getShopParams();\n  }\n\n  getProductsWithBrandsAndTypes(): void {\n    this.getProducts();\n    this.getBrands();\n    this.getTypes();\n  }\n\n  getProducts(): void {\n    this.shopService.getProducts().subscribe((response) => {\n      this.products = response.data;\n      this.shopParams.pageNumber = response.pageIndex;\n      this.shopParams.pageSize = response.pageSize;\n      this.totalCount = response.count;\n    }, error => console.error(error));\n  }\n\n  getBrands(): void {\n    this.shopService.getBrands().subscribe((response) => {\n      this.brands = [{ id: 0, name: 'All' }, ...response];\n    }, error => console.error(error));\n  }\n\n  getTypes(): void {\n    this.shopService.getTypes().subscribe((response) => {\n      this.types = [{ id: 0, name: 'All' }, ...response];\n    }, error => console.error(error));\n  }\n\n  onBrandSelected(brandId: number) {\n    const params = this.shopService.getShopParams();\n    params.pageNumber = 1;\n    params.brandId = brandId;\n    this.shopService.setShopParams(params);\n    this.getProducts();\n  }\n\n  onTypeSelected(typeId: number) {\n    const params = this.shopService.getShopParams();\n    params.pageNumber = 1;\n    params.typeId = typeId;\n    this.shopService.setShopParams(params);\n    this.getProducts();\n  }\n\n  onSortSelected($event: any) {\n    const params = this.shopService.getShopParams();\n    params.sort = $event.target.value;\n    this.shopService.setShopParams(params);\n    this.getProducts();\n  }\n\n  onPageChanged($event: number): void {\n    if ($event != this.shopParams.pageNumber) {\n      const params = this.shopService.getShopParams();\n      params.pageNumber = $event;\n      this.shopService.setShopParams(params);\n      this.getProducts();\n    }\n  }\n\n  onSearch() {\n    if (this.searchTerm.nativeElement.value) {\n      const params = this.shopService.getShopParams();\n      params.pageNumber = 1;\n      params.search = this.searchTerm.nativeElement.value;\n      this.shopService.setShopParams(params);\n      this.getProducts();\n    }\n  }\n\n  onReset() {\n    if (this.searchTerm) this.searchTerm.nativeElement.value = '';\n    this.shopParams = new ShopParams();\n    this.shopService.setShopParams(this.shopParams);\n    this.getProducts();\n  }\n}\n","<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-3\">\n            <h5 class=\"text-warning ms-3\">Sort</h5>\n            <select (change)=\"onSortSelected($event)\" class=\"form-select mb-4\">\n                <option *ngFor=\"let sort of sortOptions\" [value]=\"sort.value\">{{ sort.name }}</option>\n            </select>\n\n            <h5 class=\"text-warning ms-3\">Brands</h5>\n            <ul class=\"list-group my-3\">\n                <li class=\"list-group-item\" [class.active]=\"brand.id == shopParams.brandId\" [value]=\"brand.id\"\n                    (click)=\"onBrandSelected(brand.id)\" *ngFor=\"let brand of brands\">{{ brand.name }}</li>\n            </ul>\n\n            <h5 class=\"text-warning ms-3\">Types</h5>\n            <ul class=\"list-group my-3\">\n                <li class=\"list-group-item\" [class.active]=\"shopParams.typeId == type.id\" [value]=\"type.id\"\n                    (click)=\"onTypeSelected(type.id)\" *ngFor=\"let type of types\">{{ type.name }}</li>\n            </ul>\n        </div>\n        <div class=\"col-9\">\n            <div class=\"d-flex justify-content-between align-items-center\">\n                <div *ngIf=\"totalCount > 0\">\n                    <app-pagination-header [pageNumber]=\"shopParams.pageNumber\" [pageSize]=\"shopParams.pageSize\"\n                        [totalCount]=\"totalCount\"></app-pagination-header>\n                </div>\n                <div *ngIf=\"totalCount == 0\">There are <strong>0</strong> results for this filter.</div>\n                <div class=\"d-flex mt-2\">\n                    <input (keyup.enter)=\"onSearch()\" class=\"form-control me-2\" type=\"text\" placeholder=\"Search...\" #search />\n                    <button class=\"btn btn-outline-primary mx-2\" (click)=\"onSearch()\">Search</button>\n                    <button class=\"btn btn-outline-primary\" (click)=\"onReset()\">Reset</button>\n                </div>\n            </div>\n            <div class=\"row g-3 mt-2\" *ngIf=\"products && products.length > 0\">\n                <div class=\"col-4\" *ngFor=\"let product of products\">\n                    <app-shop-item [product]=\"product\"></app-shop-item>\n                </div>\n            </div>\n\n            <div class=\"d-flex justify-content-center mt-2\">\n                <app-pagination *ngIf=\"totalCount > 0\" [pageNumber]=\"shopParams.pageNumber\"\n                    [pageSize]=\"shopParams.pageSize\" [totalCount]=\"totalCount\"\n                    (pageChanged)=\"onPageChanged($event)\"></app-pagination>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ShopComponent } from './shop.component';\nimport { ShopItemComponent } from './shop-item/shop-item.component';\nimport { CoreModule } from '../core/core.module';\nimport { ShopDetailsComponent } from './shop-details/shop-details.component';\nimport { RouterModule } from '@angular/router';\nimport { ShopRoutingModule } from './shop-routing.module';\n\n\n\n@NgModule({\n  declarations: [ShopComponent, ShopItemComponent, ShopDetailsComponent],\n  imports: [\n    CommonModule,\n    CoreModule,\n    RouterModule,\n    ShopRoutingModule\n  ]\n})\nexport class ShopModule { }\n","import { HttpClient, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { IPagination } from '../shared/models/pagination';\nimport { IBrand, IProduct, IType } from '../shared/models/product';\nimport { Observable, of } from 'rxjs';\nimport { ShopParams } from '../shared/models/shopParams';\nimport { environment } from 'src/environments/environment';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShopService {\n  baseUrl = environment.apiUrl;\n  products: IProduct[] = [];\n  brands: IBrand[] = [];\n  types: IType[] = [];\n  pagination?: IPagination<IProduct[]>;\n  shopParams = new ShopParams();\n  productCache = new Map<string, IPagination<IProduct[]>>();\n  constructor(private http: HttpClient) { }\n\n  getKey() {\n    console.log('Get key');\n    console.log(Object.values(this.shopParams).join('-'));\n    return Object.values(this.shopParams).join('-');\n  }\n\n  getProducts(useCache = true): Observable<IPagination<IProduct[]>> {\n    // if we invalidate cache by passing in false lets blow the map away\n    if (!useCache) this.productCache = new Map();\n\n    if (this.productCache.size > 0 && useCache) {\n      if (this.productCache.has(this.getKey())) {\n        this.pagination = this.productCache.get(this.getKey());\n        return of(this.pagination);\n      }\n    }\n\n    let params = new HttpParams();\n\n    if (this.shopParams && this.shopParams.brandId > 0) params = params.append('brandId', this.shopParams.brandId.toString());\n    if (this.shopParams && this.shopParams.typeId > 0) params = params.append('typeId', this.shopParams.typeId.toString());\n    if (this.shopParams && this.shopParams.sort) params = params.append('sort', this.shopParams.sort);\n    if (this.shopParams && this.shopParams.pageNumber) params = params.append('pageIndex', this.shopParams.pageNumber.toString());\n    if (this.shopParams && this.shopParams.pageSize) params = params.append('pageSize', this.shopParams.pageSize.toString());\n    if (this.shopParams && this.shopParams.search) params = params.append('search', this.shopParams.search.toString());\n\n    return this.http.get<IPagination<IProduct[]>>(this.baseUrl + 'products', { params }).pipe(\n      map(response => {\n        // So we need to keep adding cached entries to products\n        this.productCache.set(this.getKey(), response);\n        this.pagination = response;\n        return response;\n      })\n    )\n  }\n\n  setShopParams(params: ShopParams) {\n    this.shopParams = params;\n  }\n\n  getShopParams() {\n    return this.shopParams;\n  }\n\n  getProduct(id: number) {\n    const product = [...this.productCache.values()].reduce((acc, paginatedResult) => {\n      return { ...acc, ...paginatedResult.data.find(x => x.id == id) }\n    }, {} as IProduct);\n\n    if(Object.keys(product).length != 0) return of(product);\n\n    return this.http.get<IProduct>(this.baseUrl + 'products/' + id);\n  }\n\n  getBrands(): Observable<IBrand[]> {\n    if (this.brands.length > 0) return of(this.brands);\n    return this.http.get<IBrand[]>(this.baseUrl + 'products/brands').pipe(map(brands => {\n      this.brands = brands;\n      return brands;\n    }))\n  }\n\n  getTypes(): Observable<IType[]> {\n    if (this.types.length > 0) return of(this.types);\n    return this.http.get<IType[]>(this.baseUrl + 'products/types').pipe(map(types => {\n      this.types = types;\n      return types;\n    }))\n  }\n}\n"]}